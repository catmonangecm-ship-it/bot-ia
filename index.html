<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot G√©n√©rateur HTML</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        pre { background: #1e1e1e; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; position: relative; }
        code { color: #e879f9; font-family: 'Courier New', monospace; font-size: 0.85em; }
        .copy-btn { position: absolute; top: 0.5rem; right: 0.5rem; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
    <div class="flex flex-col h-screen">
        <div class="bg-black bg-opacity-50 p-4 border-b border-purple-500">
            <div class="flex items-center justify-between max-w-6xl mx-auto">
                <div class="flex items-center space-x-3">
                    <div class="bg-purple-600 p-2 rounded-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-white">Bot G√©n√©rateur HTML</h1>
                        <p class="text-sm text-purple-300">Code HTML pr√™t √† copier et tester</p>
                    </div>
                </div>
                <button onclick="clearAll()" class="p-2 bg-red-600 hover:bg-red-700 rounded-lg transition">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                </button>
            </div>
        </div>

        <div id="messages" class="flex-1 overflow-y-auto p-4">
            <div class="max-w-6xl mx-auto space-y-4">
                <div id="welcome" class="text-center py-12">
                    <svg class="w-16 h-16 text-purple-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                    </svg>
                    <h2 class="text-2xl font-bold text-white mb-4">G√©n√©rateur de Code HTML</h2>
                    <p class="text-purple-300 mb-6">Demandez une app et copiez le code pour le tester !</p>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 max-w-3xl mx-auto text-sm">
                        <button onclick="quickPrompt('app de trading')" class="bg-purple-700 hover:bg-purple-600 text-white p-4 rounded-lg transition">
                            üìà Trading App
                        </button>
                        <button onclick="quickPrompt('calculatrice')" class="bg-blue-700 hover:bg-blue-600 text-white p-4 rounded-lg transition">
                            üî¢ Calculatrice
                        </button>
                        <button onclick="quickPrompt('todo list')" class="bg-green-700 hover:bg-green-600 text-white p-4 rounded-lg transition">
                            ‚úÖ Todo List
                        </button>
                        <button onclick="quickPrompt('jeu')" class="bg-red-700 hover:bg-red-600 text-white p-4 rounded-lg transition">
                            üéÆ Jeu
                        </button>
                        <button onclick="quickPrompt('dashboard')" class="bg-yellow-700 hover:bg-yellow-600 text-white p-4 rounded-lg transition">
                            üìä Dashboard
                        </button>
                        <button onclick="quickPrompt('chat')" class="bg-indigo-700 hover:bg-indigo-600 text-white p-4 rounded-lg transition">
                            üí¨ Chat
                        </button>
                        <button onclick="quickPrompt('portfolio')" class="bg-pink-700 hover:bg-pink-600 text-white p-4 rounded-lg transition">
                            üíº Portfolio
                        </button>
                        <button onclick="quickPrompt('horloge')" class="bg-teal-700 hover:bg-teal-600 text-white p-4 rounded-lg transition">
                            ‚è∞ Horloge
                        </button>
                    </div>
                </div>
                <div id="messagesList"></div>
            </div>
        </div>

        <div class="bg-black bg-opacity-50 p-4 border-t border-purple-500">
            <div class="max-w-6xl mx-auto flex space-x-2">
                <input
                    type="text"
                    id="input"
                    placeholder="Demandez une application HTML... (ex: app de trading, calculatrice, jeu)"
                    class="flex-1 bg-black bg-opacity-60 text-white placeholder-purple-400 border border-purple-500 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"
                />
                <button
                    onclick="sendMessage()"
                    class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-6 py-3 rounded-lg transition"
                >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        var messages = [];

        function quickPrompt(text) {
            document.getElementById('input').value = text;
            sendMessage();
        }

        function generateHTML(query) {
            var q = query.toLowerCase();

            if (q.indexOf('trading') !== -1 || q.indexOf('trade') !== -1 || q.indexOf('bourse') !== -1) {
                return '<!DOCTYPE html>\n<html lang="fr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Trading App</title>\n    <script src="https://cdn.tailwindcss.com"></script>\n</head>\n<body class="bg-gradient-to-br from-gray-900 to-gray-800 min-h-screen p-6">\n    <div class="max-w-6xl mx-auto">\n        <h1 class="text-4xl font-bold text-white mb-8">üìà Trading Dashboard</h1>\n        \n        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">\n            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">\n                <div class="text-gray-400 mb-2">BTC/USDT</div>\n                <div class="text-3xl font-bold text-white" id="price">$45,000.00</div>\n                <div class="text-green-400 mt-2" id="change">+2.5%</div>\n            </div>\n            \n            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">\n                <div class="text-gray-400 mb-2">Balance</div>\n                <div class="text-3xl font-bold text-white" id="balance">$10,000.00</div>\n                <div class="text-sm text-gray-400 mt-2">Portfolio Value</div>\n            </div>\n            \n            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">\n                <div class="text-gray-400 mb-2">Profit/Loss</div>\n                <div class="text-3xl font-bold text-green-400" id="pnl">+$250.00</div>\n                <div class="text-sm text-gray-400 mt-2">+2.5%</div>\n            </div>\n        </div>\n        \n        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\n            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">\n                <h2 class="text-xl font-bold text-white mb-4">Actions Rapides</h2>\n                <div class="space-y-3">\n                    <button onclick="trade(\'buy\')" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition">\n                        ACHETER BTC\n                    </button>\n                    <button onclick="trade(\'sell\')" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition">\n                        VENDRE BTC\n                    </button>\n                </div>\n            </div>\n            \n            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">\n                <h2 class="text-xl font-bold text-white mb-4">Trades R√©cents</h2>\n                <div id="tradesList" class="space-y-2 max-h-48 overflow-y-auto">\n                    <div class="text-gray-400 text-center py-4">Aucun trade</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        var price = 45000;\n        var balance = 10000;\n        var trades = [];\n        \n        function updatePrice() {\n            price = price + (Math.random() - 0.5) * 500;\n            var change = ((price - 45000) / 45000 * 100).toFixed(2);\n            \n            document.getElementById("price").textContent = "$" + price.toFixed(2);\n            document.getElementById("change").textContent = (change >= 0 ? "+" : "") + change + "%";\n            document.getElementById("change").className = change >= 0 ? "text-green-400 mt-2" : "text-red-400 mt-2";\n        }\n        \n        function trade(type) {\n            var amount = 0.1;\n            var total = price * amount;\n            \n            if (type === "buy") {\n                if (balance >= total) {\n                    balance -= total;\n                    trades.unshift({type: "ACHAT", price: price, time: new Date().toLocaleTimeString()});\n                    alert("‚úÖ Achat de " + amount + " BTC √† $" + price.toFixed(2));\n                } else {\n                    alert("‚ùå Balance insuffisante!");\n                    return;\n                }\n            } else {\n                balance += total;\n                trades.unshift({type: "VENTE", price: price, time: new Date().toLocaleTimeString()});\n                alert("‚úÖ Vente de " + amount + " BTC √† $" + price.toFixed(2));\n            }\n            \n            document.getElementById("balance").textContent = "$" + balance.toFixed(2);\n            var pnl = balance - 10000;\n            document.getElementById("pnl").textContent = (pnl >= 0 ? "+" : "") + "$" + pnl.toFixed(2);\n            document.getElementById("pnl").className = pnl >= 0 ? "text-3xl font-bold text-green-400" : "text-3xl font-bold text-red-400";\n            \n            renderTrades();\n        }\n        \n        function renderTrades() {\n            var html = "";\n            trades.slice(0, 10).forEach(function(t) {\n                var color = t.type === "ACHAT" ? "text-green-400" : "text-red-400";\n                html += "<div class=\\"flex justify-between py-2 border-b border-gray-700\\">";\n                html += "<span class=\\"" + color + " font-semibold\\">" + t.type + "</span>";\n                html += "<span class=\\"text-white\\">$" + t.price.toFixed(2) + "</span>";\n                html += "<span class=\\"text-gray-400 text-sm\\">" + t.time + "</span>";\n                html += "</div>";\n            });\n            document.getElementById("tradesList").innerHTML = html || "<div class=\\"text-gray-400 text-center py-4\\">Aucun trade</div>";\n        }\n        \n        setInterval(updatePrice, 2000);\n    </script>\n</body>\n</html>';
            }

            if (q.indexOf('calculatrice') !== -1 || q.indexOf('calc') !== -1) {
                return '<!DOCTYPE html>\n<html lang="fr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Calculatrice</title>\n    <script src="https://cdn.tailwindcss.com"></script>\n</head>\n<body class="bg-gradient-to-br from-purple-900 to-indigo-900 min-h-screen flex items-center justify-center p-4">\n    <div class="bg-gray-900 rounded-3xl p-6 shadow-2xl w-full max-w-sm border border-purple-500">\n        <div class="bg-gray-800 rounded-xl p-4 mb-4 text-right">\n            <div class="text-gray-500 text-sm h-6" id="previous"></div>\n            <div class="text-white text-4xl font-bold" id="display">0</div>\n        </div>\n        \n        <div class="grid grid-cols-4 gap-3">\n            <button onclick="clearDisplay()" class="col-span-2 bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-xl transition">C</button>\n            <button onclick="deleteLast()" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-4 rounded-xl transition">‚å´</button>\n            <button onclick="appendOperator(\'/\')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition">√∑</button>\n            \n            <button onclick="appendNumber(\'7\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">7</button>\n            <button onclick="appendNumber(\'8\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">8</button>\n            <button onclick="appendNumber(\'9\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">9</button>\n            <button onclick="appendOperator(\'*\')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition">√ó</button>\n            \n            <button onclick="appendNumber(\'4\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">4</button>\n            <button onclick="appendNumber(\'5\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">5</button>\n            <button onclick="appendNumber(\'6\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">6</button>\n            <button onclick="appendOperator(\'-\')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition">-</button>\n            \n            <button onclick="appendNumber(\'1\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">1</button>\n            <button onclick="appendNumber(\'2\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">2</button>\n            <button onclick="appendNumber(\'3\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">3</button>\n            <button onclick="appendOperator(\'+\')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition">+</button>\n            \n            <button onclick="appendNumber(\'0\')" class="col-span-2 bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">0</button>\n            <button onclick="appendNumber(\'.\')" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition">.</button>\n            <button onclick="calculate()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl transition">=</button>\n        </div>\n    </div>\n    \n    <script>\n        var current = "0";\n        var previous = "";\n        var operator = "";\n        \n        function updateDisplay() {\n            document.getElementById("display").textContent = current;\n            document.getElementById("previous").textContent = previous;\n        }\n        \n        function appendNumber(num) {\n            if (current === "0") {\n                current = num;\n            } else {\n                current += num;\n            }\n            updateDisplay();\n        }\n        \n        function appendOperator(op) {\n            if (operator !== "") {\n                calculate();\n            }\n            operator = op;\n            previous = current + " " + op;\n            current = "0";\n            updateDisplay();\n        }\n        \n        function calculate() {\n            if (operator === "") return;\n            \n            var prev = parseFloat(previous);\n            var curr = parseFloat(current);\n            var result = 0;\n            \n            switch(operator) {\n                case "+": result = prev + curr; break;\n                case "-": result = prev - curr; break;\n                case "*": result = prev * curr; break;\n                case "/": result = prev / curr; break;\n            }\n            \n            current = result.toString();\n            previous = "";\n            operator = "";\n            updateDisplay();\n        }\n        \n        function clearDisplay() {\n            current = "0";\n            previous = "";\n            operator = "";\n            updateDisplay();\n        }\n        \n        function deleteLast() {\n            current = current.slice(0, -1) || "0";\n            updateDisplay();\n        }\n    </script>\n</body>\n</html>';
            }

            if (q.indexOf('todo') !== -1 || q.indexOf('tache') !== -1) {
                return '<!DOCTYPE html>\n<html lang="fr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Todo List</title>\n    <script src="https://cdn.tailwindcss.com"></script>\n</head>\n<body class="bg-gradient-to-br from-blue-900 to-purple-900 min-h-screen p-6">\n    <div class="max-w-2xl mx-auto">\n        <div class="bg-white rounded-2xl shadow-2xl p-6">\n            <h1 class="text-3xl font-bold text-gray-800 mb-6">‚úÖ Ma Todo List</h1>\n            \n            <div class="flex gap-2 mb-6">\n                <input type="text" id="taskInput" placeholder="Nouvelle t√¢che..." class="flex-1 border-2 border-gray-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none">\n                <button onclick="addTask()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-3 rounded-lg transition">Ajouter</button>\n            </div>\n            \n            <div id="taskList" class="space-y-2"></div>\n            \n            <div class="mt-6 flex justify-between text-sm text-gray-600">\n                <span id="stats">0 t√¢ches</span>\n                <button onclick="clearCompleted()" class="text-red-600 hover:text-red-700">Effacer termin√©es</button>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        var tasks = [];\n        \n        function addTask() {\n            var input = document.getElementById("taskInput");\n            var text = input.value.trim();\n            if (!text) return;\n            \n            tasks.push({id: Date.now(), text: text, done: false});\n            input.value = "";\n            render();\n        }\n        \n        function toggleTask(id) {\n            var task = tasks.find(function(t) { return t.id === id; });\n            if (task) task.done = !task.done;\n            render();\n        }\n        \n        function deleteTask(id) {\n            tasks = tasks.filter(function(t) { return t.id !== id; });\n            render();\n        }\n        \n        function clearCompleted() {\n            tasks = tasks.filter(function(t) { return !t.done; });\n            render();\n        }\n        \n        function render() {\n            var html = "";\n            tasks.forEach(function(task) {\n                var checked = task.done ? "checked" : "";\n                var lineThrough = task.done ? "line-through text-gray-400" : "";\n                html += "<div class=\\"flex items-center gap-3 bg-gray-50 p-3 rounded-lg\\">";\n                html += "<input type=\\"checkbox\\" " + checked + " onchange=\\"toggleTask(" + task.id + ")\\" class=\\"w-5 h-5\\">";\n                html += "<span class=\\"flex-1 " + lineThrough + "\\">" + task.text + "</span>";\n                html += "<button onclick=\\"deleteTask(" + task.id + ")\\" class=\\"text-red-600 hover:text-red-700 font-bold\\">‚úï</button>";\n                html += "</div>";\n            });\n            \n            document.getElementById("taskList").innerHTML = html || "<div class=\\"text-center text-gray-400 py-8\\">Aucune t√¢che</div>";\n            \n            var total = tasks.length;\n            var done = tasks.filter(function(t) { return t.done; }).length;\n            document.getElementById("stats").textContent = done + "/" + total + " t√¢ches termin√©es";\n        }\n        \n        document.getElementById("taskInput").addEventListener("keypress", function(e) {\n            if (e.key === "Enter") addTask();\n        });\n        \n        render();\n    </script>\n</body>\n</html>';
            }

            if (q.indexOf('jeu') !== -1 || q.indexOf('game') !== -1) {
                return '<!DOCTYPE html>\n<html lang="fr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Jeu du Nombre</title>\n    <script src="https://cdn.tailwindcss.com"></script>\n</head>\n<body class="bg-gradient-to-br from-green-900 to-teal-900 min-h-screen flex items-center justify-center p-4">\n    <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center">\n        <h1 class="text-3xl font-bold text-gray-800 mb-4">üéÆ Devinez le Nombre</h1>\n        <p class="text-gray-600 mb-6">Je pense √† un nombre entre 1 et 100</p>\n        \n        <div class="mb-6">\n            <div class="text-5xl font-bold text-purple-600 mb-2" id="attempts">0</div>\n            <div class="text-sm text-gray-500">tentatives</div>\n        </div>\n        \n        <input type="number" id="guess" min="1" max="100" placeholder="Votre nombre..." class="w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-center text-2xl mb-4 focus:border-purple-500 focus:outline-none">\n        \n        <button onclick="checkGuess()" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition mb-4">Deviner</button>\n        \n        <div id="message" class="text-xl font-semibold mb-4"></div>\n        \n        <button onclick="restart()" class="text-gray-600 hover:text-gray-800 text-sm">üîÑ Nouvelle partie</button>\n    </div>\n    \n    <script>\n        var target = Math.floor(Math.random() * 100) + 1;\n        var attempts = 0;\n        \n        function checkGuess() {\n            var guess = parseInt(document.getElementById("guess").value);\n            if (!guess || guess < 1 || guess > 100) {\n                showMessage("Entrez un nombre entre 1 et 100", "text-red-600");\n                return;\n            }\n            \n            attempts++;\n            document.getElementById("attempts").textContent = attempts;\n            \n            if (guess === target) {\n                showMessage("üéâ BRAVO ! Vous avez trouv√© en " + attempts + " coups !", "text-green-600");\n            } else if (guess < target) {\n                showMessage("üìà Plus grand !", "text-blue-600");\n            } else {\n                showMessage("üìâ Plus petit !", "text-orange-600");\n            }\n            \n            document.getElementById("guess").value = "";\n            document.getElementById("guess").focus();\n        }\n        \n        function showMessage(text, color) {\n            var msg = document.getElementById("message");\n            msg.textContent = text;\n            msg.className = "text-xl font-semibold mb-4 " + color;\n        }\n        \n        function restart() {\n            target = Math.floor(Math.random() * 100) + 1;\n            attempts = 0;\n            document.getElementById("attempts").textContent = "0";\n            document.getElementById("guess").value = "";\n            document.getElementById("message").textContent = "";\n        }\n        \n        document.getElementById("guess").addEventListener("keypress", function(e) {\n            if (e.key === "Enter") checkGuess();\n        });\n    </script>\n</body>\n</html>';
            }

            return '<!DOCTYPE html>\n<html lang="fr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Application</title>\n    <script src="https://cdn.tailwindcss.com"></script>\n</head>\n<body class="bg-gray-900 text-white min-h-screen flex items-center justify-center p-6">\n    <div class="text-center">\n        <h1 class="text-4xl font-bold mb-4">üöÄ Application HTML</h1>\n        <p class="text-gray-400 mb-8">Code HTML complet et fonctionnel</p>\n        <div class="bg-gray-800 p-6 rounded-xl">\n            <p>Demandez une app sp√©cifique :</p>\n            <ul class="text-left mt-4 space-y-2">\n                <li>üìà App de trading</li>\n                <li>üî¢ Calculatrice</li>\n                <li>‚úÖ Todo list</li>\n                <li>üéÆ Jeu</li>\n            </ul>\n        </div>\n    </div>\n</body>\n</html>';
        }

        function sendMessage() {
            var input = document.getElementById('input');
            var message = input.value.trim();
            
            if (!message) return;

            document.getElementById('welcome').style.display = 'none';

            var userMsg = '<div class="flex justify-end"><div class="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-lg max-w-2xl"><div class="font-semibold">' + message + '</div></div></div>';
            
            document.getElementById('messagesList').innerHTML += userMsg;
            input.value = '';
            scrollToBottom();
            
            showLoading();

            setTimeout(function() {
                var code = generateHTML(message);
                var botMsg = '<div class="flex justify-start"><div class="bg-gray-800 text-white p-4 rounded-lg max-w-4xl border border-purple-500 w-full">' +
                    '<div class="flex justify-between items-center mb-2">' +
                    '<span class="text-purple-300 font-semibold">‚ú® Code HTML g√©n√©r√©</span>' +
                    '<button onclick="copyCode(this)" class="bg-purple-600 hover:bg-purple-700 px-3 py-1 rounded text-sm transition">üìã Copier</button>' +
                    '</div>' +
                    '<pre class="bg-black p-4 rounded-lg overflow-x-auto text-xs"><code>' + escapeHTML(code) + '</code></pre>' +
                    '<div class="text-sm text-gray-400 mt-2">üí° Copiez ce code et testez-le dans un artifact Claude !</div>' +
                    '</div></div>';
                
                hideLoading();
                document.getElementById('messagesList').innerHTML += botMsg;
                scrollToBottom();
            }, 1000);
        }

        function copyCode(button) {
            var code = button.parentElement.nextElementSibling.textContent;
            navigator.clipboard.writeText(code).then(function() {
                button.textContent = '‚úÖ Copi√© !';
                button.classList.add('bg-green-600');
                button.classList.remove('bg-purple-600');
                setTimeout(function() {
                    button.textContent = 'üìã Copier';
                    button.classList.remove('bg-green-600');
                    button.classList.add('bg-purple-600');
                }, 2000);
            });
        }

        function escapeHTML(text) {
            return text
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        function showLoading() {
            var loading = '<div id="loading" class="flex justify-start"><div class="bg-gray-800 p-4 rounded-lg border border-purple-500">' +
                '<div class="flex items-center space-x-2">' +
                '<div class="w-2 h-2 bg-purple-400 rounded-full animate-pulse"></div>' +
                '<div class="w-2 h-2 bg-purple-400 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>' +
                '<div class="w-2 h-2 bg-purple-400 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>' +
                '<span class="text-purple-300 ml-2">G√©n√©ration du code HTML...</span>' +
                '</div></div></div>';
            document.getElementById('messagesList').innerHTML += loading;
            scrollToBottom();
        }

        function hideLoading() {
            var loading = document.getElementById('loading');
            if (loading) loading.remove();
        }

        function scrollToBottom() {
            var container = document.getElementById('messages');
            container.scrollTop = container.scrollHeight;
        }

        function clearAll() {
            if (!confirm('Effacer toute la conversation ?')) return;
            document.getElementById('messagesList').innerHTML = '';
            document.getElementById('welcome').style.display = 'block';
        }

        document.getElementById('input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
